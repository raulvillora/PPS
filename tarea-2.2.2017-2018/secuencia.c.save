#include<stdio.h>
#include<string.h>
#include <sysexits.h>

#define MAX_OUTPUT  100
int main(int argc, char **argv)
{
	int i;
	int a=0;
        if(strcmp(argv[1], "-h") == 0 || (strcmp(argv[1] , "--help") ==0 ))
        {
                printf("secuencia: Uso: secuencia [ hasta [ desde [ paso ]]]\n");
                printf("secuencia: Genera la secuencia de numeros en el intervalo y paso indicados.\n");
                return EX_OK;
        }
	if(argc==1)
	{
		i=1;
		while(i<=10)
		{
			printf("\t%d\n", i);
			i++;
		}
	}
/*	
	if(desde)
	{
		printf("secuencia: ERROR(EX_USAGE), uso incorrecto del mandato.\n");
		printf("secuencia+ El parametro 'desde' no es un numero real valido.\n");
		return EX_USAGE;
	}
*/
        if(argc==2)
	{
		int hasta=atoi(argv[1]);
		for(i=1; i<=hasta; i++)
		{
			printf("\t%f\n", i);
			if(i==MAX_OUTPUT)
			{
				printf("secuencia: ERROR(EX_NOPERM), uso incorrecto del mandato.\n");
				printf("secuencia+ Se intento superar el limite de salida establecido por MAX_OUTPUT.\n");
				return EX_NOPERM;
			}			
		}
	}

/*	
	if(hasta)
	{
		printf("secuencia: ERROR(EX_USAGE), uso incorrecto del mandato.\n");
		print("secuencia+ El parametro 'hasta' no es un numero real valido.\n");
		return EX_USAGE;
	}
*/

	if(argc==3)
	{
		double hasta=atoi(argv[1]);
	        double desde=atoi(argv[2]);
		for(i=desde; i<=hasta; i++)
		{
		
			printf("\t%d\n", i);
			a++;
			if(a==MAX_OUTPUT)
			{
				printf("secuencia: ERROR(EX_NOPERM), uso incorrecto del mandato.\n");
				printf("secuencia+ Se intento superar el limite de salida establecido por MAX_OUTPUT.\n");
				return EX_NOPERM;
			}
		}
	}
	if(argc==4)
	{
		double hasta=atoi(argv[1]);
	        double desde=atoi(argv[2]);
       		double paso=atoi(argv[3]);
		if(paso==0)
		{
			printf("secuencia: ERROR(EX_USAGE), uso incorrecto del mandato.\n");
			printf("secuencia+ El parametro 'paso' no puede valer 0.\n");
			return EX_USAGE;
		}
/*
		if(paso)
		{
			printf("secuencia: ERROR(EX_USAGE), uso incorrecto del mandato.\n");
			printf("secuencia+ El parametro 'paso' no es un numero real valido.\n");
			return EX_USAGE;
		}
*/
/*	
		if()
		{
			printf("secuencia: ERROR(EX_USAGE), uso incorrecto del mandato.\n");
			printf("secuencia+ EX USAGE El signo de 'paso' no permite recorrer el intervalo en el sentido 'desde' a 'hasta'.\n");
			return EX_USAGE;
		}
*/
		i=desde;
		while(i<=hasta)
		{
			printf("\t%d\n",i);
			i=i+paso;
			a++;
			if(a==MAX_OUTPUT)
			{
				printf("secuencia: ERROR(EX_NOPERM), uso incorrecto del mandato.\n");
				printf("secuencia+ Se intento superar el limite de salida establecido por MAX_OUTPUT.\n");
				return EX_NOPERM;
			}
		}
	}
	if(argc>4)
	{
		printf("secuencia: ERROR(EX_USAGE), uso incorrecto del mandato.\n");
		printf("secuencia+ En numero de argumentos no es correcto.\n");
		return EX_USAGE;
	}
        return EX_OK;
}

